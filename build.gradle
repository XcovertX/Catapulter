plugins {
    id 'java'
    id 'application'
    id 'maven'
    id 'maven-publish'
    id 'org.openjfx.javafxplugin' version '0.0.10'
}

javafx {
    version = "16"
    modules = [ 'javafx.controls', 'javafx.fxml', 'javafx.base', 'javafx.graphics', 'javafx.swing'] // you can add other javafx modules
	//configuration = 'compileOnly'
}


mainClassName = "main.java.start.Catapulter"

repositories { 
    mavenCentral() 
}

jar {
    archiveBaseName = 'gs-gradle'
    archiveVersion =  '0.1.0'

    manifest {
        attributes(
                'Main-Class': 'start.Catapulter' // replace with you main class
        )
    }
    from {
        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
    }
}

dependencies {
//implementation group: 'com.google.code.gson', name: 'gson', version: '2.8.6'
//implementation 'com.google.code.gson:gson:2.8.6'

compile group: 'org.danilopianini', name: 'gson-extras', version: '0.2.1'

// https://mvnrepository.com/artifact/com.google.code.gson/gson
implementation group: 'com.google.code.gson', name: 'gson', version: '2.8.9'



}

configurations.all {
    resolutionStrategy.preferProjectModules()
    resolutionStrategy.eachDependency { DependencyResolveDetails details ->
        def requested = details.requested
        if (requested.group == 'com.google.code.gson') {
            details.useVersion "2.8.9"
        }
    }
}



